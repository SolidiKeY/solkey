\include "./commonRules.key";

\functions {
    \unique Field owner;
    \unique Field age;
    \unique Field balance;
    \unique Identity bob;
    \unique Identity bobAcc;
    \unique Field carol;
    \unique Field carolAcc;

    List cons1(any);
    List cons2(any, any);
    List cons3(any, any, any);
}

\programVariables {
    Memory mem;
    Struct st;
    Identity ownerEx;
    int v;
}

\schemaVariables{
    \term any x, y, z;
}

\rules {
    cons1Def {
        \find(cons1(x))
        \replacewith(cons(x, mt))
        \heuristics(concrete)
    };

    cons2Def {
        \find(cons2(x, y))
        \replacewith(cons(x, cons(y, mt)))
        \heuristics(concrete)
    };

    cons3Def {
        \find(cons3(x, y, z))
        \replacewith(cons(x, cons(y, cons(z, mt))))
        \heuristics(concrete)
    };
}